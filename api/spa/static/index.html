<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

      <style>
        
        /* Button used to open the contact form */
        .open-button {
           
          background-color: #0C9;
          color: white;
          padding: 16px 20px;
          border-radius:5px;
          border: none;
          cursor: pointer;
          opacity: 0.8;
          position: fixed;
          bottom: 40px;
          right: 40px;
          width: 120px;     
        }
        
        /* The popup form - hidden by default */
        .form-popup {
          display: none;
          position: fixed;
          bottom: 40px;
          right: 15px;
          border: 3px solid #f1f1f1;
          z-index: 9;
        }
        
        /* Styles to the form container */
        .form-container {
          max-width: 300px;
          padding: 10px;
          background-color: white;
        }
        
        /* Full-width input fields */
        .form-container input[type=text], .form-container input[type=text] {
          width: 80%;
          padding: 15px;
          margin: 10px 0 22px 10px;
          border: none;
          background: #f1f1f1;
        }
        
        /* When the inputs get focus, do something */
        .form-container input[type=text]:focus, .form-container input[type=text]:focus {
          background-color: #ddd;
          outline: none;
        }
        
        /* Style for the submit/login button */
        .form-container .btn {
          background-color: #089955;
          color: white;
          padding: 0px;
          border: none;
          cursor: pointer;
          width: 100%;
          margin-bottom:10px;
          opacity: 0.8;
          line-height: 0px;
        }
        
        /* Red background color to the cancel button */
        .form-container .cancel {
          background-color: rgb(207, 58, 58);
          line-height: 0px;
        }
        
        /* Hover effects to buttons */
        .form-container .btn:hover, .open-button:hover {
          opacity: 1;
        }
        </style>

    </head>
    <body onload="Main.main()">
        <!-- Navigation bar -->
        <nav style="background-color:#124580">
            <div class="nav-wrapper">
                <a href="#!" class="brand-logo left" style="margin-left: 15px;">Small IoT System</a>
            </div>
        </nav>
       
        <!-- Page Body -->

        <br/>
        <div class="container">
            <a id="dispositivos"></a>
            <h4>Dispositivos</h4>
            <ul class="collection" id="devicesList"> </ul>

            <!-- Add New Device -->

            <!-- Floating Button -->    
            <button class="open-button" onclick="openForm()">New device</button>       

            <!-- Form Object -->
            <div class="form-popup" id="myForm">
              <form action="/device" class="form-container"  method="POST">
            
                <label for="id"><b>Device ID</b></label>
                <input type="text" placeholder="Enter id" name="id" required>
            
                <label for="name"><b>Name</b></label>
                <input type="text" placeholder="Enter name" name="n" required>
            
                <label for="key"><b>Device Key</b></label>
                <input type="text" placeholder="Enter key" name="k" required>
            
                <button type="submit" class="btn">Add device</button>
                <button type="button" class="btn cancel" onclick="closeForm()">Discard</button>
              </form>
            </div>

        </div>
        <div class="buttons">
            <div class="container">
                <a id="boton-refresco"></a>
                <a id="boton" class="waves-effect waves-light btn">Refrescar lista</a>
        </div> 

        <!-- Page Footer -->
        <footer class="page-footer" style="background-color:#124580">
            <div class="container">
                <div class="row">
                  <ul>
                    <li><a href="web/users" target="_blank">Users as html</a></li>                          <!-- Add user view -->
                    <li><a href="web/device" target="_blank">Devices as html</a></li>
                    <li><a href="web/device/00" target="_blank">Device 00 as html</a></li>
                    <li><a href="device" target="_blank">Devices as JSON</a></li>
                    <li><a href="measurement" target="_blank">Measurements as JSON</a></li>
                  </ul>
                </div>
                <div class="row">
                    <div class="col l6 s6">
                        <h5 class="white-text">Small IoT System</h5>
                        <p class="grey-text text-lighten-4">Copyright Carlos Pantelides - 2022</p>
                    </div>
                    <div class="col l6 s6">
                        <h5 class="white-text right-align">Contact us</h5>
                        <p class="white-text right-align">
                            <a class="grey-text text-lighten-3" href="https://www.linkedin.com/in/carlos-pantelides">LinkedIn | </a>
                            <a class="grey-text text-lighten-3" href="https://github.com/cpantel">Github | </a>
                            <a class="grey-text text-lighten-3" href="https://seguridad-agile.blogspot.com">Blog |</a>
                            <a class="grey-text text-lighten-3" href="https://twitter.com/pelucaKiller">Twitter |</a>
                            <a class="grey-text text-lighten-3" href="mailto:carlos.pantelides@gmail.com">Mail</a>
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!--JavaScript at end of body for optimized loading-->
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script type="text/javascript" src="js/Main.js"></script>
        <script type="text/javascript" src="js/API.js"></script>
        <script type="text/javascript" src="js/ViewMainPage.js"></script>

        <script>
            function openForm() {
              document.getElementById("myForm").style.display = "block";
            }
            
            function closeForm() {
              document.getElementById("myForm").style.display = "none";
            }

            // function refreshpage(){

            // }

        </script>


    </body>
  </html>
